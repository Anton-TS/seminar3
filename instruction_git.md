# **Инструкция по работе с системой контроля Git**


+ ## Что такое Git?
 
Гит это система контроля версий. Для того чтобы отслеживать и вести истории изменения файлов, в вашем проекте.

+ ## Задаем имя пользователя и email
Чтобы привязать коммиты к вашему имени и вашей почте.

    git config --global user.name "Add_user_name" // добавляет имя 
    git config --global user.email "Add_user_email.com" // добавляет почту

+ ## Создание репозитория 

Чтобы создать новый репозиторий (инициализировать) используют команду:

    git init

+ ## Проверка состояния репозитория
Просмотреть статус нужного репозитория можно по ключевому слову status: его действие распространяется на подготовленные, неподготовленные и неотслеживаемые файлы.

    git status 

+ ## Добавление отдельных файлов или всех файлов в область подготовленных файлов

    git add  // в нашем случаае файл instruction_git.md

Кроме того, можно добавить все файлы и папки в эту область, предоставив wildcard . вместо имени файла:

    git add .    в нашем случаае  .\instruction_git.md

 + ## Внесение изменений однострочным сообщением или через редактор   
добавляем свой коммит. При создании коммита в репозитории можно добавить однострочное сообщение с помощью параметра commit с флагом -m. Само сообщение вводится непосредственно после флага, в кавычках.

    git commit -m "Your short summary about the commit"

Также можно открыть текстовый редактор в терминале для написания полного сообщения коммита. Оно может состоять из нескольких строк текста, в котором подробно характеризуются изменения, внесённые в репозиторий.
    
    git commit

+ ## Просмотр истории коммитов с изменениями
Просматривать изменения, внесённые в репозиторий, можно с помощью параметра log. Он отображает список последних коммитов в порядке выполнения. Кроме того, добавив флаг -p, вы можете подробно изучить изменения, внесённые в каждый файл.

    git log

+ ## Просмотр заданного коммита
Просмотреть полный список изменений, внесённых конкретным коммитом, можно с помощью параметра show, указав идентификатор или хеш коммита. Значение хеша уникально для каждого коммита, созданного в вашем репозитории.

    git show 1af17e73721dbe0c40011b82ed4bb1a7dbe3ce29

Также можно использовать сокращённый хеш.

    git show 1af17e
    

+ ## Просмотр изменений до коммита
Можно просматривать список изменений, внесённых в репозиторий, используя параметр diff. По умолчанию отображаются только изменения, не подготовленные для фиксации.

    git diff

Для просмотра подготовленных изменений необходимо добавить флаг --staged

    git diff --staged

Также можно указать имя файла как параметр и просмотреть изменения, внесённые только в этот файл.

    git diff     .\instruction_git.md

+ ## Перемещение между различными версиями целевого обьекта
Команда git checkout позволяет перемещаться между ветками, созданными командой git branch. При переключении ветки происходит обновление файлов в рабочем каталоге в соответствии с версией, хранящейся в этой ветке, а Git начинает записывать все новые коммиты в этой ветке.

    git checkout

+ ## Переименование файлов
Переименовать файл или папку можно параметром mv. Для него указывается источник source и назначение destination. Источник — реально существующий файл или папка, а назначение — существующая папка.

    git mv dir1/somefile.js dir2

При выполнении команды файл или папка, указанные как источник, будут перемещены в папку назначения. Индекс будет обновлён соответственно, но изменения нужно записать.

# Ветвление 
Ветки нужны, чтобы несколько программистов могли вести работу над одним и тем же проектом или даже файлом одновременно, при этом не мешая друг другу.

Ветки нужны, чтобы несколько программистов могли вести работу над одним и тем же проектом или даже файлом одновременно, при этом не мешая друг другу.

+ ## Просмотр существующих папок
 Для того чтобы посмотреть какие ветки созданы используем команду: 

    git branch


+ ## Создание новой ветки

Для создания новой ветки надо ввести команду: 

    git branch "имя ветки"

Переключиться на свежесозданную ветку с помощью команды:

     git checkout 

Создать и переключиться на ветку сразу:

    git checkout -b "имя ветки"


Кстати, вместо имени ветки, можно писать -, чтобы переключиться на предыдущую ветку.

+ ## Схема с dev веткой

Другая схема очень похожа на классическую, только в ней помимо мастер ветки есть еще девелоперская ветка, которая деплоится на тестовый сервер. Такую ветку обычно называют dev. Схема работы при этом такая. Программист перед выполнением новой задачи заводит для нее ветку от последнего рабочего состояния в мастер ветке. Когда он заканчивает работу над задачей, то мержит ветку задачи в dev ветку самостоятельно. После этого, совместными усилиями задача тестируется на тестовом сервере вместе с остальными задачами. Если есть ошибки, то задачу дорабатывают в той же ветке и повторно мержат с dev веткой. Когда тестирование задачи заканчивается, то ВЕТКУ ЗАДАЧИ мержат с мастер веткой. Важно заметить, что в этой схеме работы с мастер веткой нужно мержить ветку задачи, а не dev ветку. Ведь в dev ветке будут содержаться изменения, сделанные не только в этой задаче, но и в других и не все эти изменения могут оказаться рабочими. Мастер ветка и dev ветка со временем будут расходиться, поэтому при такой схеме работы периодически заводят новую dev ветку от последнего рабочего состояния мастер ветки. Недостатком этого подхода является избыточность, по сравнению с классической схемой. Такую схему работы с ветками часто используют если в проекте нет автоматизированных тестов и все тестирование происходит вручную на сервере разработки.

+ ## Конфликты

Конфликты возникают при мердже веток если в этих ветках одна и та же строка кода была изменена по-разному. Тогда получается, что Git не может сам решить какое из изменений нужно применить и он предлагает вручную решить эту ситуацию. Это замедляет работу с кодом в проекте. Избежать этого можно разными методами. Например, можно распределять задачи так, чтобы связанные задачи не выполнялись одновременно различными программистами.
Другой способ избежать этого, это договориться о каком-то конкретном стиле кода. Тогда программисты не будут менять форматирование кода и вероятность того, что они изменят одну и ту же строчку станет ниже.



## Основные виды решения конфликтов

1. Оставить изменения текущей ветки.
2. Принять изменения входящей ветки.

+ ## Подведем итог
Будьте осторожны переключаясь между ветками. Не "утащите" файл с одной ветки на другую. Перед и сразу после переключения между ветками, вывод git status должен быть пустым.
Чтобы просмотреть историю изменений, используйте git log. Ключ --pretty=oneline позволит сделать вывод лаконичным, а с помощью ключа -n=<число> можно указать количество необходимых коммитов. Если запутались в репозитории, постройте граф с ключом --graph, это поможет разобраться, что к чему.
Чтобы просмотреть различия между коммитами, стоит использовать git diff. Эта команда выведет краткую информацию о внесенных изменениях и построчный анализ внесенных изменений.
